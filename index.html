
<!--
Apology webpage â€” updated
Uploaded video path (if you want to use it as an asset): /mnt/data/VID_20251122_060533_822.mp4
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Forgive Me â€” Opened</title>
  <style>
    :root{--bg:#06060a;--accent1:#ff7ab6;--text:#fff}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 10% 10%, rgba(255,255,255,0.02), transparent),var(--bg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;color:var(--text)}

    /* phone stage */
    .stage{width:420px;max-width:94vw;height:820px;border-radius:36px;background:linear-gradient(180deg,#07070a,#0e0e12);box-shadow:0 30px 80px rgba(0,0,0,0.7);position:relative;overflow:hidden;border:6px solid #000}

    /* center area */
    .center{height:100%;display:flex;align-items:center;justify-content:center;padding:80px 20px;position:relative}
    .tap-hint{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:rgba(255,255,255,0.85);font-size:18px;font-weight:700;letter-spacing:0.6px;pointer-events:none}

    /* envelope */
    .env-wrap{width:260px;height:160px;position:relative;perspective:800px}
    .envelope{width:100%;height:100%;position:relative;border-radius:12px;background:linear-gradient(180deg,#ffdee7,#ffd9f6);box-shadow:0 10px 30px rgba(0,0,0,0.5);transform-origin:center;transition:transform 900ms cubic-bezier(.2,.9,.2,1)}
    .flap{position:absolute;left:0;right:0;top:0;height:60%;background:linear-gradient(180deg,#ffd8ea,#ffebf7);clip-path: polygon(0 0, 50% 60%, 100% 0, 100% 100%, 0 100%);transform-origin:top center;border-radius:12px 12px 0 0;box-shadow:inset 0 -8px 20px rgba(0,0,0,0.05)}
    .paper{position:absolute;left:12px;right:12px;bottom:12px;top:12px;border-radius:8px;background:linear-gradient(180deg,#fff,#fff7);display:flex;align-items:center;justify-content:center;transform:translateY(30%);opacity:0;transition:all 700ms ease}
    .paper .msg{padding:18px;border-radius:8px;background:transparent;color:#0b1220;text-align:center;font-weight:700;font-family:Georgia, 'Times New Roman', serif;font-size:20px}
    .env-open .flap{transform:rotateX(180deg) translateY(-10px);transition:transform 700ms cubic-bezier(.2,.9,.2,1)}
    .env-open .paper{transform:translateY(-8%);opacity:1}

    .sparkles{position:absolute;inset:0;pointer-events:none}

    .reveal{position:absolute;left:50%;transform:translateX(-50%);bottom:120px;width:88%;max-width:360px;text-align:center;pointer-events:none;opacity:0}
    .reveal.show{opacity:1;transition:opacity 600ms ease 400ms}
    .apology{font-family:Georgia, 'Times New Roman', serif;font-size:26px;margin:4px 0 0;font-weight:700}
    .sub{color:rgba(255,255,255,0.75);margin-top:8px;font-size:15px}

    .butterfly, .heart{position:absolute;opacity:0;will-change:transform,opacity}
    .fb-heart{width:34px;height:34px}
    .butterfly{width:40px;height:28px;background:transparent}

    @keyframes floatUp {0%{opacity:0;transform:translateY(20px) scale(0.8)}10%{opacity:1}100%{opacity:0;transform:translateY(-160px) scale(1.05)}}

    .play-hint{position:absolute;left:50%;transform:translateX(-50%);bottom:40px;font-size:13px;color:rgba(255,255,255,0.6)}
    .controls{position:absolute;bottom:12px;left:12px;right:12px;display:flex;justify-content:center}
    .btn{padding:10px 14px;border-radius:999px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.03);cursor:pointer;color:var(--text);font-weight:600}

    /* initial white intro overlay */
    .intro{position:fixed;inset:0;background:#ffffff;display:flex;align-items:center;justify-content:center;z-index:9999;transition:opacity 360ms ease}
    .intro.hidden{opacity:0;pointer-events:none}
    .intro-text{color:#111;font-size:28px;font-weight:800;font-family:Georgia, 'Times New Roman', serif}

  </style>
</head>
<body>

  <!-- Initial white page that shows before tap -->
  <div class="intro" id="intro">
    <div class="intro-text">SORRY YASHIKA ðŸ’Œ</div>
  </div>

  <div class="stage" id="stage">
    <div class="center">
      <div class="tap-hint">Tap to open ðŸ’—</div>
      <div class="env-wrap">
        <div class="envelope" id="env">
          <div class="flap"></div>
          <div class="paper" id="paper"><div class="msg" id="msg">I know I have hurted youâ€¦ and I am truly sorry from my heart. ðŸ’—</div></div>
        </div>
        <div class="sparkles" id="sparkles"></div>
      </div>
    </div>

    <div class="reveal" id="reveal">
      <div class="apology" id="apology">I'M SORRY</div>
      <div class="sub" id="subtitle">I didn't mean to hurt you. Will you forgive me?</div>
    </div>

    <div class="play-hint" id="playHint"></div>

    <div class="controls">
      <button class="btn" id="replay">Replay</button>
    </div>

    <!-- audio referenced as an external asset (assets/song.mp3) - place your MP3 in the assets/ folder -->
    
  </div>

  <script>
    const intro = document.getElementById('intro');
    const sparkles = document.getElementById('sparkles');
    const bgm = document.getElementById('bgm');
    const replay = document.getElementById('replay');
    const reveal = document.getElementById('reveal');

    function spawnFloating(kind){
      const el = document.createElement('div');
      const x = Math.random()*240 - 20;
      el.style.left = (100 + x) + 'px';
      el.style.bottom = '40px';
      el.style.opacity = 0;
      el.className = kind;

      if(kind==='butterfly'){
        el.innerHTML = `<svg viewBox="0 0 64 48" width="40" height="30" xmlns="http://www.w3.org/2000/svg"><path d="M32 24c8-12 24-16 24-8s-12 16-24 24c-12-8-24-16-24-24s16-4 24 8z" fill="#f7a8d1" opacity="0.95"/><path d="M32 24c-8-12-24-16-24-8s12 16 24 24c12-8 24-16 24-24s-16-4-24 8z" fill="#b8a0ff" opacity="0.85"/></svg>`;
      } else {
        el.innerHTML = `<svg class="fb-heart" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 21s-7-4.6-9-7.2C0.9 11.1 3 7 6.5 7 8.6 7 10 8.2 12 10c2-1.8 3.4-3 5.5-3C21 7 23.1 11.1 21 13.8 19 16.4 12 21 12 21z" fill="#ff7ab6"/></svg>`;
      }
      sparkles.appendChild(el);

      const dur = 3500 + Math.random()*1500;
      el.animate([
        {transform: `translateY(0) translateX(0) scale(0.8)`, opacity:0},
        {transform: `translateY(-120px) translateX(${(Math.random()*100-50)}px) scale(1.05)`, opacity:1},
        {transform: `translateY(-240px) translateX(${(Math.random()*200-100)}px) scale(1.1)`, opacity:0}
      ],{duration:dur,easing:'cubic-bezier(.2,.9,.2,1)'});

      setTimeout(()=>el.remove(),dur+50);
    }

    function burstParticles(){
      for(let i=0;i<8;i++){setTimeout(()=>spawnFloating(i%2? 'butterfly':'heart'), i*120)}
    }

    function playSequence(){
      // hide the white intro
      intro.classList.add('hidden');
      // open envelope & reveal
      document.getElementById('stage').classList.add('env-open');
      setTimeout(()=>{
        reveal.classList.add('show');
        burstParticles();
        const playPromise = bgm.play();
        if(playPromise!==undefined){
          playPromise.then(()=>{document.getElementById('playHint').style.opacity=0}).catch(()=>{document.getElementById('playHint').style.opacity=1;});
        }
      },650);

      const interval = setInterval(burstParticles, 1800);
      setTimeout(()=>clearInterval(interval),12000);
    }

    replay.addEventListener('click', ()=>{
      reveal.classList.remove('show');
      document.getElementById('stage').classList.remove('env-open');
      sparkles.innerHTML='';
      bgm.pause(); bgm.currentTime=0;
      // show intro again
      intro.classList.remove('hidden');
      setTimeout(()=>{ intro.style.opacity = 1 }, 50);
      // allow click to open again
      window.addEventListener('click', ()=>{ playSequence(); }, {once:true});
    });

    // open on first click anywhere (also hides intro)
    window.addEventListener('click', ()=>{ playSequence(); }, {once:true});

    // try to start music on first gesture too
    window.addEventListener('pointerdown', ()=>{bgm.play().catch(()=>{}); document.getElementById('playHint').style.opacity=0}, {once:true});
  </script>
</body>
</html>
